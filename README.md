# Тестовое задание для mediatech

Настройки доступа к mysql лежат в файле mysql.ini. Создайте базу данных для тестов, пользователя и дайте ему права для работы с базой.

Файлы:
- bootstrap.php - создание таблиц со структурой из тестового задания и наполнение данными. Формат запуска: php bootstrap.php <num_users> <start_date>, где <num_users> -- количество пользователей, которых создаем, а <start_date> -- дата, начиная с которой и до текущей даты будут сгенерированы платежи и выплаты.
- bootstrap2.php - скрипт, переливающий данные из таблиц от bootstrap.php в оптимизированные по производительности таблицы. Его следует запускать, когда отработал bootstrap.php
- getstat.php -- скрипт, собирающий данные из таблиц в соответствии с тестовым заданием.
- getstat2.php -- скрипт, собирающий данные из оптимизированных таблиц.

# Бенчмарк

```
#!/bin/bash
for i in 10 100 500 1000 10000 ; do
  php bootstrap.php $i 2010-01-01
  php bootstrap2.php
  echo "getstat 1 for $i users"
  time php getstat.php --quiet
  echo "getstat 2 for $i users"
  time php getstat2.php --quiet
done
```
